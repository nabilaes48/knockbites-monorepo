name: iOS Build (Stub)

# This is a placeholder workflow for future iOS CI/CD integration
# When iOS apps are ready for CI builds, configure this workflow

on:
  workflow_dispatch:
    inputs:
      app:
        description: 'Which iOS app to build'
        required: true
        type: choice
        options:
          - customer
          - business
      configuration:
        description: 'Build configuration'
        required: true
        default: 'Release'
        type: choice
        options:
          - Debug
          - Release

jobs:
  build:
    runs-on: macos-latest
    # Uncomment when iOS project is ready
    # if: false

    steps:
      - name: Placeholder
        run: |
          echo "iOS Build Workflow - Stub"
          echo ""
          echo "This workflow is a placeholder for future iOS CI/CD integration."
          echo ""
          echo "To enable iOS builds:"
          echo "1. Add iOS project to this repository or configure submodule"
          echo "2. Set up Apple certificates and provisioning profiles"
          echo "3. Configure secrets:"
          echo "   - APPLE_CERTIFICATES_P12"
          echo "   - APPLE_CERTIFICATES_PASSWORD"
          echo "   - APPLE_PROVISIONING_PROFILE"
          echo "   - APP_STORE_CONNECT_API_KEY_ID"
          echo "   - APP_STORE_CONNECT_API_PRIVATE_KEY"
          echo "   - APP_STORE_CONNECT_ISSUER_ID"
          echo ""
          echo "Selected app: ${{ github.event.inputs.app }}"
          echo "Configuration: ${{ github.event.inputs.configuration }}"

      # Uncomment and configure when ready:
      #
      # - name: Checkout repository
      #   uses: actions/checkout@v4
      #
      # - name: Setup Xcode
      #   uses: maxim-lobanov/setup-xcode@v1
      #   with:
      #     xcode-version: latest-stable
      #
      # - name: Install CocoaPods
      #   run: |
      #     cd ios-${{ github.event.inputs.app }}
      #     pod install
      #
      # - name: Install certificates
      #   uses: apple-actions/import-codesign-certs@v2
      #   with:
      #     p12-file-base64: ${{ secrets.APPLE_CERTIFICATES_P12 }}
      #     p12-password: ${{ secrets.APPLE_CERTIFICATES_PASSWORD }}
      #
      # - name: Build app
      #   run: |
      #     cd ios-${{ github.event.inputs.app }}
      #     xcodebuild \
      #       -workspace App.xcworkspace \
      #       -scheme App \
      #       -configuration ${{ github.event.inputs.configuration }} \
      #       -archivePath build/App.xcarchive \
      #       archive
      #
      # - name: Export IPA
      #   run: |
      #     cd ios-${{ github.event.inputs.app }}
      #     xcodebuild \
      #       -exportArchive \
      #       -archivePath build/App.xcarchive \
      #       -exportPath build/ipa \
      #       -exportOptionsPlist ExportOptions.plist
      #
      # - name: Upload to TestFlight
      #   uses: apple-actions/upload-testflight-build@v1
      #   with:
      #     app-path: ios-${{ github.event.inputs.app }}/build/ipa/App.ipa
      #     issuer-id: ${{ secrets.APP_STORE_CONNECT_ISSUER_ID }}
      #     api-key-id: ${{ secrets.APP_STORE_CONNECT_API_KEY_ID }}
      #     api-private-key: ${{ secrets.APP_STORE_CONNECT_API_PRIVATE_KEY }}
